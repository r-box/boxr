<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Authenticate to Box (service-app) — box_auth_service • boxr</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Authenticate to Box (service-app) — box_auth_service"><meta name="description" content='How you authenticate to Box depends the Box-app through which you
connect. A Box service-app can be useful for unattended jobs that need
access to only a limited part of Box, e.g. one folder.
Use this function to access Box using a service-app.
To access a service-app, you will need a JSON web-token (JWT),
generated by your Box-admin team. If you have a personal Box account, you
are your Box-admin team. You specify the JWT either as token_file,
the path to the JWT file, or as token_text, the text of the JWT.
Using JWT-authentication is more convenient than using standard OAuth2
authentication, as you do not have to go through the "OAuth Dance". This
convenience brings additional considerations because the JWT file gives
its bearer uninhibited access to anything the Box service-app can access.
Accordingly, you are recommended to:
give the service-account access to as little information as you need it
to have, e.g. a single folder.
keep the JWT file secure.

'><meta property="og:description" content='How you authenticate to Box depends the Box-app through which you
connect. A Box service-app can be useful for unattended jobs that need
access to only a limited part of Box, e.g. one folder.
Use this function to access Box using a service-app.
To access a service-app, you will need a JSON web-token (JWT),
generated by your Box-admin team. If you have a personal Box account, you
are your Box-admin team. You specify the JWT either as token_file,
the path to the JWT file, or as token_text, the text of the JWT.
Using JWT-authentication is more convenient than using standard OAuth2
authentication, as you do not have to go through the "OAuth Dance". This
convenience brings additional considerations because the JWT file gives
its bearer uninhibited access to anything the Box service-app can access.
Accordingly, you are recommended to:
give the service-account access to as little information as you need it
to have, e.g. a single folder.
keep the JWT file secure.

'><meta property="og:image" content="https://r-box.github.io/boxr/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-secondary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">boxr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.3.7</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/boxr.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><h6 class="dropdown-header" data-toc-skip>Box Apps</h6></li>
    <li><a class="dropdown-item" href="../articles/boxr-apps.html">Box Apps: Overview</a></li>
    <li><a class="dropdown-item" href="../articles/boxr-app-interactive.html">Box Interactive-Apps</a></li>
    <li><a class="dropdown-item" href="../articles/boxr-app-service.html">Box Service-Apps</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/design.html">Design Philosophy</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/r-box/boxr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Authenticate to Box (service-app)</h1>
      <small class="dont-index">Source: <a href="https://github.com/r-box/boxr/blob/v0.3.7/R/boxr_auth.R" class="external-link"><code>R/boxr_auth.R</code></a></small>
      <div class="d-none name"><code>box_auth_service.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>How you authenticate to Box depends the Box-app through which you
connect. A Box service-app can be useful for unattended jobs that need
access to only a limited part of Box, e.g. one folder.</p>
<p>Use this function to access Box using a service-app.</p>
<p>To access a service-app, you will need a JSON web-token (JWT),
generated by your Box-admin team. If you have a personal Box account, <em>you</em>
are your Box-admin team. You specify the JWT either as <code>token_file</code>,
the path to the JWT file, or as <code>token_text</code>, the text of the JWT.</p>
<p>Using JWT-authentication is more convenient than using standard OAuth2
authentication, as you do not have to go through the "OAuth Dance". This
convenience brings additional considerations because the JWT file gives
its bearer uninhibited access to anything the Box service-app can access.
Accordingly, you are recommended to:</p><ul><li><p>give the service-account access to as little information as you need it
to have, e.g. a single folder.</p></li>
<li><p>keep the JWT file secure.</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">box_auth_service</span><span class="op">(</span>token_file <span class="op">=</span> <span class="cn">NULL</span>, token_text <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-token-file">token_file<a class="anchor" aria-label="anchor" href="#arg-token-file"></a></dt>
<dd><p><code>character</code>, path to JSON token-file. If not provided,
the function will look for an environment variable <code>BOX_TOKEN_FILE</code>. If
that is not there, it will try <code>~/.boxr-auth/token.json</code>.</p></dd>


<dt id="arg-token-text">token_text<a class="anchor" aria-label="anchor" href="#arg-token-text"></a></dt>
<dd><p><code>character</code>, JSON text. If this is provided,
<code>token_file</code> is ignored.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Invisible <code>NULL</code>, called for side effects.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The default behavior of a service-app is to act on behalf of the
service-account associated with the service-app. This is different
from an interactive-app, which acts on behalf of the Box user who
authenticates to it.</p>
<p>To use a service-app on a folder belonging to a Box user, either
the Box user has to invite the service-account to collaborate on a
folder belonging to the user, or the service-account has to invite the
Box user to collaborate on a folder belonging to the service-account.</p>
<p>In either case, you can use <code><a href="box_collab_create.html">box_collab_create()</a></code>.</p>
<p>In mid-2020, there appeared intermittent and unexplained failures of
<code>box_auth_service()</code>; the theory is that the clocks at either end
of the authentication process can be out-of-sync. The workaround
is to watch for this failure, then retry the authentication request
with a time-offset. If an offset is used, this function generates a message.</p>
<p>For more details on Box service-apps, including how to create them, and
service-app-based workflows, please read this boxr
<a href="https://r-box.github.io/boxr/articles/boxr-app-service.html">service-app article</a>.</p>
    </div>
    <div class="section level2">
    <h2 id="side-effects">Side-effects<a class="anchor" aria-label="anchor" href="#side-effects"></a></h2>


<p>This function has some side effects:</p><ul><li><p>some global <code><a href="https://rdrr.io/r/base/options.html" class="external-link">options()</a></code> are set for your session to manage the token.</p></li>
<li><p>a message is printed to the console.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index">
<dl><dt><code><a href="box_auth.html">box_auth()</a></code></dt>
<dd><p>for authenticating to interactive-apps.</p></dd>

<dt><code><a href="box_collab_create.html">box_collab_create()</a></code></dt>
<dd><p>for creating a collaboration with a different account
on a Box file or folder.</p></dd>

<dt>Box Developers: Setup with JWT](https://developer.box.com/en/guides/applications/custom-apps/jwt-setup)</dt>
<dd><p>documentation for setting up Box (service) apps with JWT.</p></dd>


</dl></div>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Brendan Rocks, Ian Lyttle, Nathan Day.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.9000.</p>
</div>

    </footer></div>





  </body></html>

